<!DOCTYPE html>





<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.3.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.3.0">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.3.0">
  <link rel="mask-icon" href="/images/logo.svg?v=7.3.0" color="#222">

<link rel="stylesheet" href="/css/main.css?v=7.3.0">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2">
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.3.0',
    exturl: false,
    sidebar: {"position":"right","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    }
  };
</script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Orandragon&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/page/8/index.html">
<meta property="og:site_name" content="Orandragon&#39;s Blog">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Orandragon&#39;s Blog">
  <link rel="canonical" href="http://yoursite.com/page/8/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false,
    isPage: false,
    isArchive: false
  };
</script>

  <title>Orandragon's Blog</title>
  <meta name="generator" content="Hexo 3.9.0">
  








  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">
  <div class="container use-motion">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Orandragon's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-about">
      
    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>About</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-categories">
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-archives">
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
            

          <div id="content" class="content">
            
  <div id="posts" class="posts-expand">
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/12/Computer Control/4. Pole Placement Problem SS Approach/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Orange+Dragon">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Orandragon's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2018/11/12/Computer Control/4. Pole Placement Problem SS Approach/" class="post-title-link" itemprop="url">4. Pole Placement Problem SS Approach</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              
                
              

              <time title="Created: 2018-11-12 12:18:04" itemprop="dateCreated datePublished" datetime="2018-11-12T12:18:04+08:00">2018-11-12</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-08-26 00:02:15" itemprop="dateModified" datetime="2019-08-26T00:02:15+08:00">2019-08-26</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Computer-Control/" itemprop="url" rel="index"><span itemprop="name">Computer Control</span></a></span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="pole-placement-for-state-space-model">1. Pole Placement for State Space Model</h2>
<p>If one matrix is controllable canonical form <span class="math display">\[
x(k+1)= \Phi x(k)+\Gamma u(k) \\
y(k)=Cx(k)
\]</span></p>
<p><span class="math display">\[
\Phi=\begin{bmatrix}{}
-a_1 &amp; -a_2 &amp;\dotsm &amp;-a_{n-1} &amp;-a_n\\
1 &amp; 0 &amp;\dotsm &amp; 0&amp;0\\
0 &amp; 1 &amp;\dotsm &amp; 0 &amp; 0\\
\vdots &amp; \vdots &amp;\ddots &amp; \vdots&amp; \vdots\\
0 &amp; 0 &amp;\dotsm &amp; 1&amp; 0\\
\end{bmatrix}\\\\
\]</span></p>
<p>If we choose <span class="math inline">\(u=-Lx(k)\quad L=[l_1\quad l_2\quad \dotsm l_n ] \quad \Gamma=[1 \quad 0 \quad 0 \dotsm]^T\)</span> <span class="math display">\[
x(k+1)=(\Phi-\Gamma L)x(k)
\]</span></p>
<p><span class="math display">\[
\Phi-\Gamma L=\begin{bmatrix}{}
-(a_1+l_1) &amp; -(a_2+l_2) &amp;\dotsm &amp;-(a_{n-1}+l_{n-1}) &amp;-(a_n+l_n)\\
1 &amp; 0 &amp;\dotsm &amp; 0&amp;0\\
0 &amp; 1 &amp;\dotsm &amp; 0 &amp; 0\\
\vdots &amp; \vdots &amp;\ddots &amp; \vdots&amp; \vdots\\
0 &amp; 0 &amp;\dotsm &amp; 1&amp; 0\\
\end{bmatrix}
\]</span></p>
<p>For any state space model, according to Ackermann's Formula, we have <span class="math display">\[
L=[0\quad0\quad\dotsm\quad1]M_c^{-1}A_m(\Phi)
\]</span> For a uncontrollable system, if we use state feedback control, some poles cannot be changed.</p>
<p>If uncontrollable poles are stable, we can still control some poles.</p>
<h2 id="observer">2. Observer</h2>
<p><span class="math display">\[
\hat x(k+1)=\Phi\hat x(k)+ \Gamma u(k)+K(y(k)-\hat y(k))\\
\hat y=C\hat x(k) \\
e(k+1)=\Phi e(k)-KCe(k)=(\Phi-KC)e(k)
\]</span> Common used observer</p>
<p>Deadbeat Observer <span class="math display">\[
A_o(\Phi)=\Phi^n
\]</span> From Ackerman's Formula <span class="math display">\[
K=A_o(\Phi)M_o^{-1}[0\quad0\quad\dotsm\quad1]^T
\]</span> ## 3. Disturbance Rejection</p>
<p>Augmented state vector <span class="math display">\[
z(k)=\begin{bmatrix}
x(k)\\
\omega(k)
\end{bmatrix}\\
z(k+1)=\begin{bmatrix}
\Phi&amp;\Phi_{\omega x}\\
0&amp;\Phi_\omega
\end{bmatrix}z(k)
+\begin{bmatrix}
\Gamma\\
0
\end{bmatrix}u(k)
\]</span> If we choose <span class="math inline">\(u(k)=-Lx(k)-L_ww(k)\)</span>,</p>
<p>Then <span class="math display">\[
x(k+1)=(\Phi-\Gamma L)x(k)+(\Phi_{wx}-\Gamma L_w)w(k)
\]</span> Therefore, we only need <span class="math display">\[
\Phi_{wx}-\Gamma L_w=0
\]</span> If the above cannot be satisfied, we can use the following method,</p>
<p>if the disturbance is constant <span class="math display">\[
x(k+1)=\Phi x(k)+\Phi_{x\omega}\omega(k)+\Gamma u(k) \\
\]</span> If we use state feedback controller, then we will have, <span class="math display">\[
u(k)=-Lx(k)-L_w\omega(k) \\
x(k+1)=(\Phi-\Gamma L) x(k)+(\Phi_{x\omega}-\Gamma L_\omega)\omega(k) \\
(zI-(\Phi-\Gamma L))X(z)=(\Phi_{x\omega}-\Gamma L_\omega)W(z) \\
G_{x\omega}(z)=(zI-(\Phi-\Gamma L))^{-1}(\Phi_{x\omega}-\Gamma L_\omega) \\
G_{x\omega}(1)=0
\]</span> If the disturbance is not constant, then frequency analysis should be used.</p>
<p>Example <span class="math display">\[
x(k+1)=
\begin{bmatrix}
1 &amp; h\\
0 &amp; 1\\
\end{bmatrix}x(k)+
\begin{bmatrix}
\frac{h^2}{2}\\
h
\end{bmatrix}(u(k)+w(k))\\
w(k+1)=w(k)
\]</span> We can get the augmented state space model <span class="math display">\[
z(k+1)=
\begin{bmatrix}
1 &amp; h &amp; \frac{h^2}{2}\\
0 &amp; 1 &amp; h\\
0 &amp; 0 &amp; 1\\
\end{bmatrix}z(k)+
\begin{bmatrix}
\frac{h^2}{2}\\
h\\
0\\
\end{bmatrix}u(k)\\
\]</span> Step1. Disturbance Rejection <span class="math display">\[
\Phi_{wx}-\Gamma L_{w}=0\\
\]</span> Then we have <span class="math display">\[
L_w=1
\]</span> If not satisfied and the disturbance is constant, we will have <span class="math display">\[
G_{xw}(1)=0
\]</span> Step2. Observer <span class="math display">\[
A_o(\Phi)=\tilde A^n\\
M_o=\begin{bmatrix}
\tilde C\\
\tilde C\tilde\Phi\\
\tilde C\tilde\Phi^2
\end{bmatrix}
\\
K=A_o(\Phi)M_o^{-1}\begin{bmatrix}
0\\0\\1
\end{bmatrix}
\]</span> Then we have <span class="math display">\[
\hat z(k+1)=\tilde \Phi z(k)+\tilde \Gamma u(k)+K(y-\tilde C\hat z)
\]</span> Step3. Pole Placement <span class="math display">\[
L=
\begin{bmatrix}
0 &amp; 0 &amp; 1
\end{bmatrix}
M_c^{-1}A_m(\Phi)\\
u(k)=-L\hat x-L_w\hat w
\]</span></p>
<h2 id="ss-feedforward-controller">4. SS Feedforward Controller</h2>
<p>We can check the transfer function from feedforward input <span class="math inline">\(u_{ff}\)</span> to Output y <span class="math display">\[
H_{cl}(z)=C(zI-\Phi+\Gamma L)^{-1}\Gamma L_c=L_c\frac{B(z)}{A_m(z)}
\]</span> Therefore, we can choose <span class="math display">\[
H_{ff}=L_c=\frac{B_m}{B}
\]</span></p>
<p>We can achieve perfect tracking if and only if B is stable. Then the input of the feedforward controller is bounded.</p>
<h2 id="ss-example">5. SS Example</h2>
<p><span class="math display">\[
x(k+1)=
\begin{bmatrix}
0.5 &amp; 1\\
0.2 &amp; 0.8\\
\end{bmatrix}x(k)+
\begin{bmatrix}
1\\
1\\
\end{bmatrix}u(k)+
\begin{bmatrix}
1\\
0\\
\end{bmatrix}v(k)\\
y=
\begin{bmatrix}
0 &amp; 1
\end{bmatrix}x(k)
\]</span></p>
<p>Where, disturbance v is constant. Design controllers such that influence of v can be eliminated in s.s. in the following cases.</p>
<ol type="a">
<li>The state and v can be measured.</li>
</ol>
<p>The augmented state space model is <span class="math display">\[
z(k+1)=\tilde \Phi z(k)+\tilde \Gamma u(k)\\
z(k+1)=
\begin{bmatrix}
x(k+1)\\
v(k+1)
\end{bmatrix}=
\begin{bmatrix}
0.5 &amp; 1 &amp; 1\\
0.2 &amp; 0.8 &amp; 0\\
0 &amp; 0 &amp; 1\\
\end{bmatrix}
\begin{bmatrix}
x(k)\\
v(k)
\end{bmatrix}+
\begin{bmatrix}
1\\
1\\
0\\
\end{bmatrix}u(k)
\]</span> We can choose the controller, <span class="math display">\[
u(k)=-Lx-L_vv
\]</span> Step 1. Disturbance Rejection. <span class="math display">\[
\Phi_{vx}-\Gamma L_v=0\\
\begin{bmatrix}
1\\
0\\
\end{bmatrix}-
\begin{bmatrix}
1\\
1\\
\end{bmatrix}L_v=0
\]</span> We cannot get a <span class="math inline">\(L_v\)</span> to solve this equation.</p>
<p>Step 2. Feedback Controller <span class="math display">\[
A_m(\Phi)=\Phi^2\\
M_c=
\begin{bmatrix}
1 &amp; 1.5\\
1 &amp; 1\\
\end{bmatrix}\\
L=
\begin{bmatrix}
0 &amp; 1
\end{bmatrix}M_c^{-1}A_m(\Phi)=
\begin{bmatrix}
0.38 &amp; 0.92
\end{bmatrix}\\
\]</span> Then we have <span class="math display">\[
u(k)=-Lx-L_vv
\]</span> Then <span class="math display">\[
H_v(z)=C(zI-\Phi+\Gamma L)^{-1}(\Phi_{vx}-\Gamma L_v)\\
H_v(1)=C(I-\Phi+\Gamma L)^{-1}(\Phi_{vx}-\Gamma L_v)=0\\
\]</span> We can get <span class="math display">\[
L_v=0.9333
\]</span> b) The state can be measured.</p>
<p>We set k=0. <span class="math display">\[
x(1)=\Phi x(0)+\Gamma u(0)+\Phi_{vx}v
\]</span> Because states can be measured, we can solve v</p>
<p>Then the controller is the same as a).</p>
<ol start="3" type="a">
<li>The input can be measured.</li>
</ol>
<p>Now we need to design an Deadbeat observer. <span class="math display">\[
A_o(\tilde\Phi)=\tilde \Phi^3=
\begin{bmatrix}
0.485 &amp; 1.49 &amp; 1.95\\
0.298 &amp; 0.932 &amp; 0.46 \\
0 &amp; 0 &amp; 1
\end{bmatrix}\\
M_o=
\begin{bmatrix}
1 &amp; 0 &amp; 0\\
0.5 &amp; 1 &amp; 1\\
0.45 &amp; 1.3 &amp; 1.5\\
\end{bmatrix}\\
K=A_o(\tilde\Phi)M_o^{-1}
\begin{bmatrix}
0\\
0\\
1\\
\end{bmatrix}=
\begin{bmatrix}
2.3\\
-2.36\\
5\\
\end{bmatrix}
\]</span> Then we have <span class="math display">\[
{\hat z(k+1)}=\tilde \Phi \hat z(k)+\tilde \Gamma u(k)+K(y(k)-\tilde C\hat z(k))
\]</span> Now our controller should be <span class="math display">\[
u(k)=-L\hat x(k)-L_v\hat v
\]</span></p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/11/09/Computer Control/3. Analysis of Discrete Time System/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Orange+Dragon">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Orandragon's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2018/11/09/Computer Control/3. Analysis of Discrete Time System/" class="post-title-link" itemprop="url">3. Analysis of Discrete Time System</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              
                
              

              <time title="Created: 2018-11-09 15:43:37" itemprop="dateCreated datePublished" datetime="2018-11-09T15:43:37+08:00">2018-11-09</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-08-26 00:04:46" itemprop="dateModified" datetime="2019-08-26T00:04:46+08:00">2019-08-26</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Computer-Control/" itemprop="url" rel="index"><span itemprop="name">Computer Control</span></a></span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="stability">1. Stability</h2>
<p>Jury's Stability Test</p>
<p>For the system <span class="math display">\[
\frac{1}{z^2+a_1z+a_2}
\]</span> Using Jury's Stability Test <span class="math display">\[
\begin{array}{ccc}
1 &amp; a_1 &amp; a_2\\
a_2 &amp; a_1 &amp; 1 &amp; \times -a_2\\ \hline
1-a_2^2 &amp; a_1-a_1a_2\\ 
a_1-a_1a_2 &amp; 1-a_2^2 &amp;  &amp; \times-\frac{a_1}{1+a_2}\\ \hline
\frac{(1-a_2)[(1+a_2)^2-a_1^2]}{1+a_2}
\end{array}
\]</span> If the system is stable, we have <span class="math display">\[
1-a_2^2 &gt;0\\
\frac{(1-a_2)[(1+a_2)^2-a_1^2]}{1+a_2}&gt;0
\]</span></p>
<h2 id="controllability">2. Controllability</h2>
<p>Controllable: The system can be driven from any initial state to any other destination in finite time.</p>
<p>For the system <span class="math display">\[
x(k+1)=\Phi x(k)+\Gamma u(k)\\
y(k)=Cx(k)\\
\]</span> We have the initial state <span class="math inline">\(x(0)\)</span></p>
<p>Then <span class="math display">\[
x(1)=\Phi x(0)+\Gamma u(0)\\
x(2)=\Phi x(1)+\Gamma u(1)=\Phi(\Phi x(0)+\Gamma u(0))+\Gamma u(1)\\
=\Phi^2 x(0)+\Phi\Gamma u(0)+\Gamma u(1)\\
\vdots\\
x(n)=\Phi^nx(0)+\Phi^{n-1}\Gamma u(0)+\Phi^{n-2}\Gamma u(1)+\dotsm+\Gamma u(n-1)
\]</span> If the system can be driven to any state in finite steps, we just need to ensure <span class="math display">\[
W_c=\begin{bmatrix}
\Gamma &amp; \Phi\Gamma &amp; \Phi^2\Gamma &amp; \dotsm &amp; \Phi^{n-1}\Gamma
\end{bmatrix}
\]</span> is NONSINGULAR.</p>
<p>If we cannot get to one state with n-1 steps, we cannot to get to one state with n steps.</p>
<p>Proof <span class="math display">\[
A(\lambda)=\lambda^n+a_1\lambda^{n-1}+a_2\lambda^{n-2}+\dotsm+\ a_n \\
\]</span> Then we have <span class="math display">\[
A(\Phi)=\Phi^n+a_1\Phi^{n-1}+a_2\Phi^{n-2}+\dotsm+\ a_nI \\
\]</span> Similarly,</p>
<p>We know <span class="math inline">\(\Phi^n\)</span> is linear combination of <span class="math inline">\(\Phi^0, \quad \Phi,\quad\dotsm\quad\Phi^{n-1}\)</span>.</p>
<p>Therefore, we still cannot get to arbitrary desired state.</p>
<p>Controllable Canonical Form <span class="math display">\[
\Phi=
\begin{bmatrix}
-a_{n} &amp; -a_{n-1} &amp; \dotsm &amp; -a_{2} &amp; -a_1\\
1 &amp; 0 &amp; \dotsm &amp; 0 &amp; 0\\
0 &amp; 1 &amp; \dotsm &amp; 0 &amp; 0\\
\vdots &amp; \vdots &amp; \ddots &amp; \vdots&amp; \vdots\\
0 &amp; 0 &amp; \dotsm &amp; 1 &amp; 0\\
\end{bmatrix}
\Gamma=
\begin{bmatrix}
1\\
0\\
0\\
\vdots\\
0\\
\end{bmatrix}
C=
\begin{bmatrix}
b_n &amp; b_{n-1} &amp; \dotsm &amp; b_1
\end{bmatrix}
\]</span></p>
<h2 id="observability">3. Observability</h2>
<p>Observer <span class="math display">\[
\hat x(k+1)=\Phi\hat x(k)+ \Gamma u(k)+K(y(k)-\hat y(k))\\
\hat y=C\hat x(k) \\
e(k+1)=\Phi e(k)-KCe(k)=(\Phi-KC)e(k)
\]</span> Observability Matrix <span class="math display">\[
M_o^{-1}=\begin{bmatrix}
C\\C\Phi\\C\Phi^2\\\vdots\\C\Phi^{n-1}
\end{bmatrix}
\]</span> Observable Canonical Form <span class="math display">\[
\Phi=
\begin{bmatrix}
-a_{n} &amp; 1 &amp; 0 &amp; \dotsm &amp; 0\\
-a_{n-1} &amp; 0 &amp; 1 &amp; \dotsm  &amp; 0\\
\vdots &amp; \vdots &amp; \vdots &amp; \ddots &amp; \vdots\\
-a_{2} &amp; 0 &amp; \dotsm &amp; 0 &amp; 1\\
-a_{1} &amp; 0 &amp; \dotsm &amp; 0 &amp; 0\\
\end{bmatrix}
\Gamma=
\begin{bmatrix}
b_n\\
b_{n-1}\\
b_{n-2}\\
\vdots\\
b_1\\
\end{bmatrix}
C=
\begin{bmatrix}
1 &amp; 0 &amp; 0 &amp; \dotsm &amp; 0
\end{bmatrix}
\]</span></p>
<h2 id="how-to-create-state-space-from-difference-equation">4. How to Create State Space From Difference Equation</h2>
<p>Example <span class="math display">\[
y(k+1)=-a_1y(k)-a_2y(k-1)-a_3y(k-2)+b_1u(k)+b_2u(k-1)+b_3u(k-2)
\]</span> First, we choose <span class="math display">\[
x_1(k)=y(k)
\]</span> Then we have <span class="math display">\[
x_1(k+1)=y(k+1)=-a_1x_1(k)-a_2y(k-1)-a_3y(k-2)+b_1u(k)+b_2u(k-1)+b_3u(k-2)
\]</span> Then we choose <span class="math display">\[
x_2(k)=-a_2y(k-1)-a_3y(k-2)+b_2u(k-1)+b_3u(k-2)\\
x_2(k+1)=-a_2y(k)-a_3y(k-1)+b_2u(k)+b_3u(k-1)\\
x_3(k)=-a_3y(k-1)+b_3u(k-1)\\
x_3(k+1)=-a_3y(k)+b_3u(k)
\]</span> Therefore, we have <span class="math display">\[
x_1(k+1)=-a_1x_1+x_2(k)+b_1u(k)\\
x_2(k+1)=-a_2x_1(k)+x_3(k)+b_2u(k)\\
x_3(k+1)=-a_3x_1(k)+b_3u(k)\\
\]</span> Therefore, <span class="math display">\[
\Phi=\begin{bmatrix}
-a_1 &amp; 1 &amp; 0\\
-a_2 &amp; 0 &amp; 1\\
-a_3 &amp; 0 &amp; 0
\end{bmatrix}
\Gamma=\begin{bmatrix}
b_1\\b_2\\b_3
\end{bmatrix}
C=\begin{bmatrix}
1 &amp; 0 &amp; 0
\end{bmatrix}
\]</span></p>
<h2 id="some-useful-conclusions">5. Some Useful Conclusions</h2>
<ol type="1">
<li>The minimal realization has the same order as that of the transfer function. If higher, it is called non-minimal realization.</li>
<li>The minimal realization can be always cast into the form of observable canonical form. Therefore, the minimal realization is always observable.</li>
<li>If there are common zeros and poles, uncontrollable, otherwise, controllable.</li>
</ol>
<h2 id="example">6. Example</h2>
<p>Example 1 <span class="math display">\[
y(k+1)=3y(k)-2y(k-1)+u(k-1)+2u(k-2)
\]</span> a) What is the Transfer Function? <span class="math display">\[
zY(z)=3Y(z)-2z^{-1}Y(z)+z^{-1}U(z)+2z^{-2}U(z)\\
\frac{Y(z)}{U(z)}=\frac{z^{-1}+2z^{-2}}{z-3+2z^{-1}}=\frac{z+2}{z^3-3z^2+2z}=\frac{z+2}{z(z-1)(z-2)}
\]</span> b) is it possible to realize the system such that it is observable but not controllable.</p>
<p>It is not controllable, therefore, it should have common zeros and poles. <span class="math display">\[
G(z)=\frac{(z+2)(z+1)}{z(z-1)(z-2)(z+1)}=\frac{z^2+3z+2}{z^4-2z^3-z^2+2z}\\
\]</span> The system is observable, therefore, we realize the system in observable canonical form. <span class="math display">\[
\Phi=
\begin{bmatrix}
2 &amp; 1 &amp; 0 &amp; 0\\
1 &amp; 0 &amp; 1 &amp; 0\\
-2 &amp; 0 &amp; 0 &amp; 1\\
0 &amp; 0 &amp; 0 &amp; 0\\
\end{bmatrix}
\Gamma=
\begin{bmatrix}
0\\
1\\
3\\
2\\
\end{bmatrix}
C=
\begin{bmatrix}
1 &amp; 0 &amp; 0 &amp; 0
\end{bmatrix}\\
\]</span></p>
<p><span class="math display">\[
M_C=
\begin{bmatrix}
0 &amp; 1 &amp; 5 &amp; 13\\
1 &amp; 3 &amp; 3 &amp; 3\\
3 &amp; 2 &amp; -2 &amp; -10\\
2 &amp; 0 &amp; 0 &amp; 0\\
\end{bmatrix}
M_o=
\begin{bmatrix}
1 &amp; 0 &amp; 0 &amp; 0 \\
2 &amp; 1 &amp; 0 &amp; 0\\
5 &amp; 2 &amp; 1 &amp; 0\\
10 &amp; 5 &amp; 2 &amp; 1
\end{bmatrix}\\
\]</span></p>
<p>Therefore, the system is observable but not controllable.</p>
<p>However, we need to check if this space state is that transfer function. It is easy to find that it is exactly the G(z) instead of the transfer function in the question. Therefore, it is <strong>impossible</strong> to realize this system in observable but not controllable form.</p>
<ol start="3" type="a">
<li>is it possible to realize the system such that it is controllable but not observable.</li>
</ol>
<p>Same as the above, it is possible to realize.</p>
<ol start="4" type="a">
<li>is it possible to realize the system such that it is both controllable and observable.</li>
</ol>
<p>Obviously, it is possible.</p>
<p>Example 2. <span class="math display">\[
y(k+1)=3y(k-1)-2y(k-2)+u(k)-2u(k-1)+u(k-2)\\
\]</span> The questions are same as the above.</p>
<ol type="a">
<li><span class="math display">\[
zY(z)=3z^{-1}Y(z)-2z^{-2}Y(z)+U(z)-2z^{-1}U(z)+z^{-2}U(z)\\
\frac{Y(z)}{U(z)}=\frac{z^2-2z+1}{z^3-3z-2}=\frac{(z-1)^2}{(z-1)^2(z+2)}
\]</span></li>
<li><p>it is possible observable but not controllable</p></li>
<li><p>it is not possible controllable but not observable</p></li>
<li><p>it is not possible controllable and observable</p></li>
</ol>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/7/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/">9</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><a class="extend next" rel="next" href="/page/9/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>


          </div>
          

        </div>
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc" data-target="post-toc-wrap">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview" data-target="site-overview-wrap">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Orange+Dragon</p>
  <div class="site-description" itemprop="description"></div>
</div>
  <nav class="site-state motion-element">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">28</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-categories">
        
          
            <a href="/categories/">
          
        
        
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">categories</span>
        </a>
      </div>
    
  </nav>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="mailto:zilongcheng@u.nus.edu" title="E-Mail &rarr; mailto:zilongcheng@u.nus.edu" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
    
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Orange+Dragon</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.9.0</div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.3.0</div>

        












        
      </div>
    </footer>
  </div>

  
    
  
  <script color='0,0,255' opacity='0.5' zIndex='-1' count='99' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/jquery/index.js?v=3.4.1"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/utils.js?v=7.3.0"></script><script src="/js/motion.js?v=7.3.0"></script>
<script src="/js/schemes/pisces.js?v=7.3.0"></script>

<script src="/js/next-boot.js?v=7.3.0"></script>



  





















  

  
    
      
<script type="text/x-mathjax-config">

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });

  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') {
          next = next.nextSibling;
        }
        if (next && next.nodeName.toLowerCase() === 'br') {
          next.parentNode.removeChild(next);
        }
      }
    });
  });

  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      element = document.getElementById(all[i].inputID + '-Frame').parentNode;
      if (element.nodeName.toLowerCase() == 'li') {
        element = element.parentNode;
      }
      element.classList.add('has-jax');
    }
  });
</script>
<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML', () => {
    MathJax.Hub.Typeset();
  }, window.MathJax);
</script>

    
  

  

  

</body>
</html>
